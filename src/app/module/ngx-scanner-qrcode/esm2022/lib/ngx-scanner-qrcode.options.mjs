export var ScannerQRCodeSymbolType;
(function (ScannerQRCodeSymbolType) {
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_NONE"] = 0] = "ScannerQRCode_NONE";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_PARTIAL"] = 1] = "ScannerQRCode_PARTIAL";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_EAN2"] = 2] = "ScannerQRCode_EAN2";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_EAN5"] = 5] = "ScannerQRCode_EAN5";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_EAN8"] = 8] = "ScannerQRCode_EAN8";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_UPCE"] = 9] = "ScannerQRCode_UPCE";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_ISBN10"] = 10] = "ScannerQRCode_ISBN10";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_UPCA"] = 12] = "ScannerQRCode_UPCA";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_EAN13"] = 13] = "ScannerQRCode_EAN13";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_ISBN13"] = 14] = "ScannerQRCode_ISBN13";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_COMPOSITE"] = 15] = "ScannerQRCode_COMPOSITE";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_I25"] = 25] = "ScannerQRCode_I25";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_DATABAR"] = 34] = "ScannerQRCode_DATABAR";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_DATABAR_EXP"] = 35] = "ScannerQRCode_DATABAR_EXP";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_CODABAR"] = 38] = "ScannerQRCode_CODABAR";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_CODE39"] = 39] = "ScannerQRCode_CODE39";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_PDF417"] = 57] = "ScannerQRCode_PDF417";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_QRCODE"] = 64] = "ScannerQRCode_QRCODE";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_SQCODE"] = 80] = "ScannerQRCode_SQCODE";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_CODE93"] = 93] = "ScannerQRCode_CODE93";
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_CODE128"] = 128] = "ScannerQRCode_CODE128";
    /*
     * Please see _ScannerQRCode_get_symbol_hash() if adding
     * anything after 128
     */
    /** mask for base symbol type.
     * @deprecated in 0.11, remove this from existing code
     */
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_SYMBOL"] = 255] = "ScannerQRCode_SYMBOL";
    /** 2-digit add-on flag.
     * @deprecated in 0.11, a ::ScannerQRCode_EAN2 component is used for
     * 2-digit GS1 add-ons
     */
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_ADDON2"] = 512] = "ScannerQRCode_ADDON2";
    /** 5-digit add-on flag.
     * @deprecated in 0.11, a ::ScannerQRCode_EAN5 component is used for
     * 5-digit GS1 add-ons
     */
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_ADDON5"] = 1280] = "ScannerQRCode_ADDON5";
    /** add-on flag mask.
     * @deprecated in 0.11, GS1 add-ons are represented using composite
     * symbols of type ::ScannerQRCode_COMPOSITE; add-on components use ::ScannerQRCode_EAN2
     * or ::ScannerQRCode_EAN5
     */
    ScannerQRCodeSymbolType[ScannerQRCodeSymbolType["ScannerQRCode_ADDON"] = 1792] = "ScannerQRCode_ADDON";
})(ScannerQRCodeSymbolType || (ScannerQRCodeSymbolType = {}));
export var ScannerQRCodeConfigType;
(function (ScannerQRCodeConfigType) {
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_ENABLE"] = 0] = "ScannerQRCode_CFG_ENABLE";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_ADD_CHECK"] = 1] = "ScannerQRCode_CFG_ADD_CHECK";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_EMIT_CHECK"] = 2] = "ScannerQRCode_CFG_EMIT_CHECK";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_ASCII"] = 3] = "ScannerQRCode_CFG_ASCII";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_BINARY"] = 4] = "ScannerQRCode_CFG_BINARY";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_NUM"] = 5] = "ScannerQRCode_CFG_NUM";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_MIN_LEN"] = 32] = "ScannerQRCode_CFG_MIN_LEN";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_MAX_LEN"] = 33] = "ScannerQRCode_CFG_MAX_LEN";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_UNCERTAINTY"] = 64] = "ScannerQRCode_CFG_UNCERTAINTY";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_POSITION"] = 128] = "ScannerQRCode_CFG_POSITION";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_TEST_INVERTED"] = 129] = "ScannerQRCode_CFG_TEST_INVERTED";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_X_DENSITY"] = 256] = "ScannerQRCode_CFG_X_DENSITY";
    ScannerQRCodeConfigType[ScannerQRCodeConfigType["ScannerQRCode_CFG_Y_DENSITY"] = 257] = "ScannerQRCode_CFG_Y_DENSITY";
})(ScannerQRCodeConfigType || (ScannerQRCodeConfigType = {}));
export var ScannerQRCodeOrientation;
(function (ScannerQRCodeOrientation) {
    ScannerQRCodeOrientation[ScannerQRCodeOrientation["ScannerQRCode_ORIENT_UNKNOWN"] = -1] = "ScannerQRCode_ORIENT_UNKNOWN";
    ScannerQRCodeOrientation[ScannerQRCodeOrientation["ScannerQRCode_ORIENT_UP"] = 0] = "ScannerQRCode_ORIENT_UP";
    ScannerQRCodeOrientation[ScannerQRCodeOrientation["ScannerQRCode_ORIENT_RIGHT"] = 1] = "ScannerQRCode_ORIENT_RIGHT";
    ScannerQRCodeOrientation[ScannerQRCodeOrientation["ScannerQRCode_ORIENT_DOWN"] = 2] = "ScannerQRCode_ORIENT_DOWN";
    ScannerQRCodeOrientation[ScannerQRCodeOrientation["ScannerQRCode_ORIENT_LEFT"] = 3] = "ScannerQRCode_ORIENT_LEFT";
})(ScannerQRCodeOrientation || (ScannerQRCodeOrientation = {}));
class ScannerQRCodeTypePointer {
    constructor(ptr, buf) {
        this.ptr = ptr;
        this.ptr32 = ptr >> 2;
        this.buf = buf;
        this.HEAP8 = new Int8Array(buf);
        this.HEAPU32 = new Uint32Array(buf);
        this.HEAP32 = new Int32Array(buf);
    }
}
class ScannerQRCodeSymbolPtr extends ScannerQRCodeTypePointer {
    get type() {
        return this.HEAPU32[this.ptr32];
    }
    get data() {
        const len = this.HEAPU32[this.ptr32 + 4];
        const ptr = this.HEAPU32[this.ptr32 + 5];
        return Int8Array.from(this.HEAP8.subarray(ptr, ptr + len));
    }
    get points() {
        const len = this.HEAPU32[this.ptr32 + 7];
        const ptr = this.HEAPU32[this.ptr32 + 8];
        const ptr32 = ptr >> 2;
        const res = [];
        for (let i = 0; i < len; ++i) {
            const x = this.HEAP32[ptr32 + i * 2];
            const y = this.HEAP32[ptr32 + i * 2 + 1];
            res.push({ x, y });
        }
        return res;
    }
    get orientation() {
        return this.HEAP32[this.ptr32 + 9];
    }
    get next() {
        const ptr = this.HEAPU32[this.ptr32 + 11];
        if (!ptr)
            return null;
        return new ScannerQRCodeSymbolPtr(ptr, this.buf);
    }
    get time() {
        return this.HEAPU32[this.ptr32 + 13];
    }
    get cacheCount() {
        return this.HEAP32[this.ptr32 + 14];
    }
    get quality() {
        return this.HEAP32[this.ptr32 + 15];
    }
}
class SymbolSetPtr extends ScannerQRCodeTypePointer {
    get head() {
        const ptr = this.HEAPU32[this.ptr32 + 2];
        if (!ptr)
            return null;
        return new ScannerQRCodeSymbolPtr(ptr, this.buf);
    }
}
export class ScannerQRCodeResult {
    constructor(ptr) {
        this.value = '';
        this.type = ptr.type;
        this.typeName = ScannerQRCodeSymbolType[this.type];
        this.data = ptr.data;
        this.points = ptr.points;
        this.orientation = ptr.orientation;
        this.time = ptr.time;
        this.cacheCount = ptr.cacheCount;
        this.quality = ptr.quality;
    }
    static createSymbolsFromPtr(ptr, buf) {
        if (ptr == 0)
            return [];
        const set = new SymbolSetPtr(ptr, buf);
        let symbol = set.head;
        const res = [];
        while (symbol !== null) {
            res.push(new ScannerQRCodeResult(symbol));
            symbol = symbol.next;
        }
        return res;
    }
    decode(encoding) {
        const decoder = new TextDecoder(encoding);
        return decoder.decode(this.data);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNjYW5uZXItcXJjb2RlLm9wdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc2Nhbm5lci1xcmNvZGUvc3JjL2xpYi9uZ3gtc2Nhbm5lci1xcmNvZGUub3B0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4QkEsTUFBTSxDQUFOLElBQVksdUJBZ0RYO0FBaERELFdBQVksdUJBQXVCO0lBQ2pDLGlHQUFzQixDQUFBO0lBQ3RCLHVHQUF5QixDQUFBO0lBQ3pCLGlHQUFzQixDQUFBO0lBQ3RCLGlHQUFzQixDQUFBO0lBQ3RCLGlHQUFzQixDQUFBO0lBQ3RCLGlHQUFzQixDQUFBO0lBQ3RCLHNHQUF5QixDQUFBO0lBQ3pCLGtHQUF1QixDQUFBO0lBQ3ZCLG9HQUF3QixDQUFBO0lBQ3hCLHNHQUF5QixDQUFBO0lBQ3pCLDRHQUE0QixDQUFBO0lBQzVCLGdHQUFzQixDQUFBO0lBQ3RCLHdHQUEwQixDQUFBO0lBQzFCLGdIQUE4QixDQUFBO0lBQzlCLHdHQUEwQixDQUFBO0lBQzFCLHNHQUF5QixDQUFBO0lBQ3pCLHNHQUF5QixDQUFBO0lBQ3pCLHNHQUF5QixDQUFBO0lBQ3pCLHNHQUF5QixDQUFBO0lBQ3pCLHNHQUF5QixDQUFBO0lBQ3pCLHlHQUEyQixDQUFBO0lBRTNCOzs7T0FHRztJQUVIOztPQUVHO0lBQ0gsdUdBQTZCLENBQUE7SUFDN0I7OztPQUdHO0lBQ0gsdUdBQTZCLENBQUE7SUFDN0I7OztPQUdHO0lBQ0gsd0dBQTZCLENBQUE7SUFDN0I7Ozs7T0FJRztJQUNILHNHQUE0QixDQUFBO0FBQzlCLENBQUMsRUFoRFcsdUJBQXVCLEtBQXZCLHVCQUF1QixRQWdEbEM7QUFFRCxNQUFNLENBQU4sSUFBWSx1QkFrQlg7QUFsQkQsV0FBWSx1QkFBdUI7SUFDakMsNkdBQTRCLENBQUE7SUFDNUIsbUhBQTJCLENBQUE7SUFDM0IscUhBQTRCLENBQUE7SUFDNUIsMkdBQXVCLENBQUE7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QUcsQ0FBQyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQztRQUNuQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUM3QixDQUFDO0lBRUQsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQVcsRUFBRSxHQUFnQjtRQUN2RCxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQUUsT0FBTyxFQUFFLENBQUM7UUFFeEIsTUFBTSxHQUFHLEdBQUcsSUFBSSxZQUFZLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDdEIsTUFBTSxHQUFHLEdBQTBCLEVBQUUsQ0FBQztRQUN0QyxPQUFPLE1BQU0sS0FBSyxJQUFJLEVBQUU7WUFDdEIsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDMUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7U0FDdEI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBaUI7UUFDdEIsTUFBTSxPQUFPLEdBQUcsSUFBSSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUMsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIFNjYW5uZXJRUkNvZGVDb25maWcge1xyXG4gIHNyYz86IHN0cmluZztcclxuICBmcHM/OiBudW1iZXI7XHJcbiAgdmlicmF0ZT86IG51bWJlcjsgLyoqIHN1cHBvcnQgbW9iaWxlICovXHJcbiAgZGVjb2RlPzogc3RyaW5nO1xyXG4gIGlzQmVlcD86IGJvb2xlYW47XHJcbiAgY29uc3RyYWludHM/OiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzO1xyXG4gIGNhbnZhc1N0eWxlcz86IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2FubmVyUVJDb2RlU2VsZWN0ZWRGaWxlcyB7XHJcbiAgdXJsOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGZpbGU6IEZpbGU7XHJcbiAgZGF0YT86IFNjYW5uZXJRUkNvZGVSZXN1bHRbXTtcclxuICBjYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2FubmVyUVJDb2RlRGV2aWNlIHtcclxuICBraW5kOiBzdHJpbmc7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBncm91cElkOiBzdHJpbmc7XHJcbiAgZGV2aWNlSWQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTY2FubmVyUVJDb2RlUG9pbnQge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFNjYW5uZXJRUkNvZGVTeW1ib2xUeXBlIHtcclxuICBTY2FubmVyUVJDb2RlX05PTkUgPSAwLCAgIC8qKjwgbm8gc3ltYm9sIGRlY29kZWQgKi9cclxuICBTY2FubmVyUVJDb2RlX1BBUlRJQUwgPSAxLCAgIC8qKjwgaW50ZXJtZWRpYXRlIHN0YXR1cyAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfRUFOMiA9IDIsICAgLyoqPCBHUzEgMi1kaWdpdCBhZGQtb24gKi9cclxuICBTY2FubmVyUVJDb2RlX0VBTjUgPSA1LCAgIC8qKjwgR1MxIDUtZGlnaXQgYWRkLW9uICovXHJcbiAgU2Nhbm5lclFSQ29kZV9FQU44ID0gOCwgICAvKio8IEVBTi04ICovXHJcbiAgU2Nhbm5lclFSQ29kZV9VUENFID0gOSwgICAvKio8IFVQQy1FICovXHJcbiAgU2Nhbm5lclFSQ29kZV9JU0JOMTAgPSAxMCwgIC8qKjwgSVNCTi0xMCAoZnJvbSBFQU4tMTMpLiBAc2luY2UgMC40ICovXHJcbiAgU2Nhbm5lclFSQ29kZV9VUENBID0gMTIsICAvKio8IFVQQy1BICovXHJcbiAgU2Nhbm5lclFSQ29kZV9FQU4xMyA9IDEzLCAgLyoqPCBFQU4tMTMgKi9cclxuICBTY2FubmVyUVJDb2RlX0lTQk4xMyA9IDE0LCAgLyoqPCBJU0JOLTEzIChmcm9tIEVBTi0xMykuIEBzaW5jZSAwLjQgKi9cclxuICBTY2FubmVyUVJDb2RlX0NPTVBPU0lURSA9IDE1LCAgLyoqPCBFQU4vVVBDIGNvbXBvc2l0ZSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfSTI1ID0gMjUsICAvKio8IEludGVybGVhdmVkIDIgb2YgNS4gQHNpbmNlIDAuNCAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfREFUQUJBUiA9IDM0LCAgLyoqPCBHUzEgRGF0YUJhciAoUlNTKS4gQHNpbmNlIDAuMTEgKi9cclxuICBTY2FubmVyUVJDb2RlX0RBVEFCQVJfRVhQID0gMzUsICAvKio8IEdTMSBEYXRhQmFyIEV4cGFuZGVkLiBAc2luY2UgMC4xMSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ09EQUJBUiA9IDM4LCAgLyoqPCBDb2RhYmFyLiBAc2luY2UgMC4xMSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ09ERTM5ID0gMzksICAvKio8IENvZGUgMzkuIEBzaW5jZSAwLjQgKi9cclxuICBTY2FubmVyUVJDb2RlX1BERjQxNyA9IDU3LCAgLyoqPCBQREY0MTcuIEBzaW5jZSAwLjYgKi9cclxuICBTY2FubmVyUVJDb2RlX1FSQ09ERSA9IDY0LCAgLyoqPCBRUiBDb2RlLiBAc2luY2UgMC4xMCAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfU1FDT0RFID0gODAsICAvKio8IFNRIENvZGUuIEBzaW5jZSAwLjIwLjEgKi9cclxuICBTY2FubmVyUVJDb2RlX0NPREU5MyA9IDkzLCAgLyoqPCBDb2RlIDkzLiBAc2luY2UgMC4xMSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ09ERTEyOCA9IDEyOCwgLyoqPCBDb2RlIDEyOCAqL1xyXG5cclxuICAvKlxyXG4gICAqIFBsZWFzZSBzZWUgX1NjYW5uZXJRUkNvZGVfZ2V0X3N5bWJvbF9oYXNoKCkgaWYgYWRkaW5nXHJcbiAgICogYW55dGhpbmcgYWZ0ZXIgMTI4XHJcbiAgICovXHJcblxyXG4gIC8qKiBtYXNrIGZvciBiYXNlIHN5bWJvbCB0eXBlLlxyXG4gICAqIEBkZXByZWNhdGVkIGluIDAuMTEsIHJlbW92ZSB0aGlzIGZyb20gZXhpc3RpbmcgY29kZVxyXG4gICAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfU1lNQk9MID0gMHgwMGZmLFxyXG4gIC8qKiAyLWRpZ2l0IGFkZC1vbiBmbGFnLlxyXG4gICAqIEBkZXByZWNhdGVkIGluIDAuMTEsIGEgOjpTY2FubmVyUVJDb2RlX0VBTjIgY29tcG9uZW50IGlzIHVzZWQgZm9yXHJcbiAgICogMi1kaWdpdCBHUzEgYWRkLW9uc1xyXG4gICAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQURET04yID0gMHgwMjAwLFxyXG4gIC8qKiA1LWRpZ2l0IGFkZC1vbiBmbGFnLlxyXG4gICAqIEBkZXByZWNhdGVkIGluIDAuMTEsIGEgOjpTY2FubmVyUVJDb2RlX0VBTjUgY29tcG9uZW50IGlzIHVzZWQgZm9yXHJcbiAgICogNS1kaWdpdCBHUzEgYWRkLW9uc1xyXG4gICAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQURET041ID0gMHgwNTAwLFxyXG4gIC8qKiBhZGQtb24gZmxhZyBtYXNrLlxyXG4gICAqIEBkZXByZWNhdGVkIGluIDAuMTEsIEdTMSBhZGQtb25zIGFyZSByZXByZXNlbnRlZCB1c2luZyBjb21wb3NpdGVcclxuICAgKiBzeW1ib2xzIG9mIHR5cGUgOjpTY2FubmVyUVJDb2RlX0NPTVBPU0lURTsgYWRkLW9uIGNvbXBvbmVudHMgdXNlIDo6U2Nhbm5lclFSQ29kZV9FQU4yXHJcbiAgICogb3IgOjpTY2FubmVyUVJDb2RlX0VBTjVcclxuICAgKi9cclxuICBTY2FubmVyUVJDb2RlX0FERE9OID0gMHgwNzAwLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBTY2FubmVyUVJDb2RlQ29uZmlnVHlwZSB7XHJcbiAgU2Nhbm5lclFSQ29kZV9DRkdfRU5BQkxFID0gMCwgICAgICAgICAgICAvKio8IGVuYWJsZSBzeW1ib2xvZ3kvZmVhdHVyZSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ0ZHX0FERF9DSEVDSywgICAgICAgIC8qKjwgZW5hYmxlIGNoZWNrIGRpZ2l0IHdoZW4gb3B0aW9uYWwgKi9cclxuICBTY2FubmVyUVJDb2RlX0NGR19FTUlUX0NIRUNLLCAgICAgICAvKio8IHJldHVybiBjaGVjayBkaWdpdCB3aGVuIHByZXNlbnQgKi9cclxuICBTY2FubmVyUVJDb2RlX0NGR19BU0NJSSwgICAgICAgICAgICAvKio8IGVuYWJsZSBmdWxsIEFTQ0lJIGNoYXJhY3RlciBzZXQgKi9cclxuICBTY2FubmVyUVJDb2RlX0NGR19CSU5BUlksICAgICAgICAgICAvKio8IGRvbid0IGNvbnZlcnQgYmluYXJ5IGRhdGEgdG8gdGV4dCAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ0ZHX05VTSwgICAgICAgICAgICAgIC8qKjwgbnVtYmVyIG9mIGJvb2xlYW4gZGVjb2RlciBjb25maWdzICovXHJcblxyXG4gIFNjYW5uZXJRUkNvZGVfQ0ZHX01JTl9MRU4gPSAweDIwLCAgICAgICAgLyoqPCBtaW5pbXVtIGRhdGEgbGVuZ3RoIGZvciB2YWxpZCBkZWNvZGUgKi9cclxuICBTY2FubmVyUVJDb2RlX0NGR19NQVhfTEVOLCAgICAgICAgLyoqPCBtYXhpbXVtIGRhdGEgbGVuZ3RoIGZvciB2YWxpZCBkZWNvZGUgKi9cclxuXHJcbiAgU2Nhbm5lclFSQ29kZV9DRkdfVU5DRVJUQUlOVFkgPSAweDQwLCAgICAvKio8IHJlcXVpcmVkIHZpZGVvIGNvbnNpc3RlbmN5IGZyYW1lcyAqL1xyXG5cclxuICBTY2FubmVyUVJDb2RlX0NGR19QT1NJVElPTiA9IDB4ODAsICAgICAgIC8qKjwgZW5hYmxlIHNjYW5uZXIgdG8gY29sbGVjdCBwb3NpdGlvbiBkYXRhICovXHJcbiAgU2Nhbm5lclFSQ29kZV9DRkdfVEVTVF9JTlZFUlRFRCwgIC8qKjwgaWYgZmFpbHMgdG8gZGVjb2RlLCB0ZXN0IGludmVydGVkICovXHJcblxyXG4gIFNjYW5uZXJRUkNvZGVfQ0ZHX1hfREVOU0lUWSA9IDB4MTAwLCAgICAgLyoqPCBpbWFnZSBzY2FubmVyIHZlcnRpY2FsIHNjYW4gZGVuc2l0eSAqL1xyXG4gIFNjYW5uZXJRUkNvZGVfQ0ZHX1lfREVOU0lUWSwgICAgIC8qKjwgaW1hZ2Ugc2Nhbm5lciBob3Jpem9udGFsIHNjYW4gZGVuc2l0eSAqL1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBTY2FubmVyUVJDb2RlT3JpZW50YXRpb24ge1xyXG4gIFNjYW5uZXJRUkNvZGVfT1JJRU5UX1VOS05PV04gPSAtMSwgICAgICAgLyoqPCB1bmFibGUgdG8gZGV0ZXJtaW5lIG9yaWVudGF0aW9uICovXHJcbiAgU2Nhbm5lclFSQ29kZV9PUklFTlRfVVAsICAgICAgICAgICAgLyoqPCB1cHJpZ2h0LCByZWFkIGxlZnQgdG8gcmlnaHQgKi9cclxuICBTY2FubmVyUVJDb2RlX09SSUVOVF9SSUdIVCwgICAgICAgICAvKio8IHNpZGV3YXlzLCByZWFkIHRvcCB0byBib3R0b20gKi9cclxuICBTY2FubmVyUVJDb2RlX09SSUVOVF9ET1dOLCAgICAgICAgICAvKio8IHVwc2lkZS1kb3duLCByZWFkIHJpZ2h0IHRvIGxlZnQgKi9cclxuICBTY2FubmVyUVJDb2RlX09SSUVOVF9MRUZULCAgICAgICAgICAvKio8IHNpZGV3YXlzLCByZWFkIGJvdHRvbSB0byB0b3AgKi9cclxufVxyXG5cclxuY2xhc3MgU2Nhbm5lclFSQ29kZVR5cGVQb2ludGVyIHtcclxuICBwcm90ZWN0ZWQgcHRyOiBudW1iZXI7XHJcbiAgcHJvdGVjdGVkIHB0cjMyOiBudW1iZXI7XHJcbiAgcHJvdGVjdGVkIGJ1ZjogQXJyYXlCdWZmZXI7XHJcbiAgcHJvdGVjdGVkIEhFQVA4OiBJbnQ4QXJyYXk7XHJcbiAgcHJvdGVjdGVkIEhFQVAzMjogSW50MzJBcnJheTtcclxuICBwcm90ZWN0ZWQgSEVBUFUzMjogVWludDMyQXJyYXk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB0cjogbnVtYmVyLCBidWY6IEFycmF5QnVmZmVyKSB7XHJcbiAgICB0aGlzLnB0ciA9IHB0cjtcclxuICAgIHRoaXMucHRyMzIgPSBwdHIgPj4gMjtcclxuICAgIHRoaXMuYnVmID0gYnVmO1xyXG4gICAgdGhpcy5IRUFQOCA9IG5ldyBJbnQ4QXJyYXkoYnVmKTtcclxuICAgIHRoaXMuSEVBUFUzMiA9IG5ldyBVaW50MzJBcnJheShidWYpO1xyXG4gICAgdGhpcy5IRUFQMzIgPSBuZXcgSW50MzJBcnJheShidWYpO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgU2Nhbm5lclFSQ29kZVN5bWJvbFB0ciBleHRlbmRzIFNjYW5uZXJRUkNvZGVUeXBlUG9pbnRlciB7XHJcbiAgZ2V0IHR5cGUoKTogU2Nhbm5lclFSQ29kZVN5bWJvbFR5cGUge1xyXG4gICAgcmV0dXJuIHRoaXMuSEVBUFUzMlt0aGlzLnB0cjMyXSBhcyBTY2FubmVyUVJDb2RlU3ltYm9sVHlwZTtcclxuICB9XHJcblxyXG4gIGdldCBkYXRhKCk6IEludDhBcnJheSB7XHJcbiAgICBjb25zdCBsZW4gPSB0aGlzLkhFQVBVMzJbdGhpcy5wdHIzMiArIDRdO1xyXG4gICAgY29uc3QgcHRyID0gdGhpcy5IRUFQVTMyW3RoaXMucHRyMzIgKyA1XTtcclxuICAgIHJldHVybiBJbnQ4QXJyYXkuZnJvbSh0aGlzLkhFQVA4LnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKSk7XHJcbiAgfVxyXG5cclxuICBnZXQgcG9pbnRzKCk6IEFycmF5PFNjYW5uZXJRUkNvZGVQb2ludD4ge1xyXG4gICAgY29uc3QgbGVuID0gdGhpcy5IRUFQVTMyW3RoaXMucHRyMzIgKyA3XTtcclxuICAgIGNvbnN0IHB0ciA9IHRoaXMuSEVBUFUzMlt0aGlzLnB0cjMyICsgOF07XHJcbiAgICBjb25zdCBwdHIzMiA9IHB0ciA+PiAyO1xyXG4gICAgY29uc3QgcmVzOiBTY2FubmVyUVJDb2RlUG9pbnRbXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICBjb25zdCB4ID0gdGhpcy5IRUFQMzJbcHRyMzIgKyBpICogMl07XHJcbiAgICAgIGNvbnN0IHkgPSB0aGlzLkhFQVAzMltwdHIzMiArIGkgKiAyICsgMV07XHJcbiAgICAgIHJlcy5wdXNoKHsgeCwgeSB9IGFzIFNjYW5uZXJRUkNvZGVQb2ludCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG9yaWVudGF0aW9uKCk6IFNjYW5uZXJRUkNvZGVPcmllbnRhdGlvbiB7XHJcbiAgICByZXR1cm4gdGhpcy5IRUFQMzJbdGhpcy5wdHIzMiArIDldO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5leHQoKTogU2Nhbm5lclFSQ29kZVN5bWJvbFB0ciB8IG51bGwge1xyXG4gICAgY29uc3QgcHRyID0gdGhpcy5IRUFQVTMyW3RoaXMucHRyMzIgKyAxMV07XHJcbiAgICBpZiAoIXB0cikgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4gbmV3IFNjYW5uZXJRUkNvZGVTeW1ib2xQdHIocHRyLCB0aGlzLmJ1Zik7XHJcbiAgfVxyXG5cclxuICBnZXQgdGltZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuSEVBUFUzMlt0aGlzLnB0cjMyICsgMTNdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNhY2hlQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLkhFQVAzMlt0aGlzLnB0cjMyICsgMTRdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHF1YWxpdHkoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLkhFQVAzMlt0aGlzLnB0cjMyICsgMTVdO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgU3ltYm9sU2V0UHRyIGV4dGVuZHMgU2Nhbm5lclFSQ29kZVR5cGVQb2ludGVyIHtcclxuICBnZXQgaGVhZCgpOiBTY2FubmVyUVJDb2RlU3ltYm9sUHRyIHwgbnVsbCB7XHJcbiAgICBjb25zdCBwdHIgPSB0aGlzLkhFQVBVMzJbdGhpcy5wdHIzMiArIDJdO1xyXG4gICAgaWYgKCFwdHIpIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIG5ldyBTY2FubmVyUVJDb2RlU3ltYm9sUHRyKHB0ciwgdGhpcy5idWYpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNjYW5uZXJRUkNvZGVSZXN1bHQge1xyXG4gIHR5cGU6IFNjYW5uZXJRUkNvZGVTeW1ib2xUeXBlO1xyXG4gIHR5cGVOYW1lOiBzdHJpbmc7XHJcbiAgZGF0YTogSW50OEFycmF5O1xyXG4gIHBvaW50czogQXJyYXk8U2Nhbm5lclFSQ29kZVBvaW50PjtcclxuICBvcmllbnRhdGlvbjogU2Nhbm5lclFSQ29kZU9yaWVudGF0aW9uO1xyXG4gIHRpbWU6IG51bWJlcjtcclxuICBjYWNoZUNvdW50OiBudW1iZXI7XHJcbiAgcXVhbGl0eTogbnVtYmVyO1xyXG4gIHZhbHVlOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihwdHI6IFNjYW5uZXJRUkNvZGVTeW1ib2xQdHIpIHtcclxuICAgIHRoaXMudHlwZSA9IHB0ci50eXBlO1xyXG4gICAgdGhpcy50eXBlTmFtZSA9IFNjYW5uZXJRUkNvZGVTeW1ib2xUeXBlW3RoaXMudHlwZV07XHJcbiAgICB0aGlzLmRhdGEgPSBwdHIuZGF0YTtcclxuICAgIHRoaXMucG9pbnRzID0gcHRyLnBvaW50cztcclxuICAgIHRoaXMub3JpZW50YXRpb24gPSBwdHIub3JpZW50YXRpb247XHJcbiAgICB0aGlzLnRpbWUgPSBwdHIudGltZTtcclxuICAgIHRoaXMuY2FjaGVDb3VudCA9IHB0ci5jYWNoZUNvdW50O1xyXG4gICAgdGhpcy5xdWFsaXR5ID0gcHRyLnF1YWxpdHk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlU3ltYm9sc0Zyb21QdHIocHRyOiBudW1iZXIsIGJ1ZjogQXJyYXlCdWZmZXIpOiBBcnJheTxTY2FubmVyUVJDb2RlUmVzdWx0PiB7XHJcbiAgICBpZiAocHRyID09IDApIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCBzZXQgPSBuZXcgU3ltYm9sU2V0UHRyKHB0ciwgYnVmKTtcclxuICAgIGxldCBzeW1ib2wgPSBzZXQuaGVhZDtcclxuICAgIGNvbnN0IHJlczogU2Nhbm5lclFSQ29kZVJlc3VsdFtdID0gW107XHJcbiAgICB3aGlsZSAoc3ltYm9sICE9PSBudWxsKSB7XHJcbiAgICAgIHJlcy5wdXNoKG5ldyBTY2FubmVyUVJDb2RlUmVzdWx0KHN5bWJvbCkpO1xyXG4gICAgICBzeW1ib2wgPSBzeW1ib2wubmV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbiAgfVxyXG5cclxuICBkZWNvZGUoZW5jb2Rpbmc/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcpO1xyXG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKHRoaXMuZGF0YSk7XHJcbiAgfVxyXG59Il19